language: java
before_install:
- sudo rm /usr/local/bin/docker-compose
- curl -L https://github.com/docker/compose/releases/download/${DOCKER_COMPOSE_VERSION}/docker-compose-`uname
  -s`-`uname -m` > docker-compose
- chmod +x docker-compose
- sudo mv docker-compose /usr/local/bin
- docker login -u "$DOCKER_USERNAME" -p "$DOCKER_PASSWORD"
install:
- mvn install -Dmaven.javadoc.skip=true -B -V
- ls -l
- docker build --build-arg JAR_FILE=/target/backend.jar -t anddopphoopha/se234-lab11-backend  .
- docker push anddopphoopha/se234-lab11-backend
- docker pull anddopphoopha/se234-lab11-client
script:
- docker-compose -H "$DOCKER_HOST" up -d
cache:
  directories:
  - "$HOME/.m2"
env:
  global:
  - DOCKER_COMPOSE_VERSION=1.18.0
  - secure: Kc/U7TThuKg4stbCTLK7vovBCiAE/GXAGoFhmrOIZvCWOjFDAqlvRmDS7lA0ZSwLiQLmvr8xCMGOt2AWLULnqyuzz0H09PtQZ3D5+6hac4QYj5XHyxRiXvWJRGFqZ91JwtZ3D+l69nqK5TCM+s1BuUmpvTGsl6d/BolqiePEo7OASYC2pBkHghr+O/lu2pFRhZE7roKm4A+xhj4JPGc1QjdlUHAsgs80CNIfd8ioFH7A15V2O2s85RzbrnENEfLd4tc5sEJNe7UoQewMlYOyWRH6LrRsphTKZvWepgK+zV45wFZ43IMZpKPA9qw4AQzdxKcDkjxCUVt57XkIofs8f/9sHdNPiOwzVvdjtoMhTIpAu5iVS7e0zcyG+Y3tUHY1PIFX0tCHq5J5QYgTd/qis60GhWl8yqswDddTnqjmpVhkk3EdZfCoUdGAjcIvCb5kDxumFVxL7UGTOrSUBRR55kEQno8pM0y3E+Wc/nArUoniYrmz6v3K6q4TXSkvLEfZcsCHOqECPXfZ7h9snu8vg2GP58mV6y+yM0NPvVSDtWPncFknrTpC9qVptg5OwEYk36fmDVaWg+YAVl4rkFNuDZFVHMqeb+YJ/p89Usq6zodC/u/PchBnf/D1wTxYojuNufyoXcwHJjqQlYznVBUuKjpYEjsoZp3iP7NfejS5hCQ=
  - secure: ZEIGRHBq6WkixXTebsytyJQ5Cv+8nh2ubXmf1teB1EUnuKArj3c3BTAetZwXneLNOpxUarKifrtSXXiHRnf7TVHaUx6i0Zgbfj1ZcUiZKZ9uOpaJ3ch4P2GEEsd5zzOe1wZG5gPEHBn3GZ6hpIS3e9YuniESCbICRXa+aRgp5Hcs921sXEUmh5wLqRQX+BX/b5pjHkJnMZeRKY7id34BMa2dPP2+9vUoiliM6xhSgn3vX31BEWdY31yAozw3HsqdgI9KJNaZKLP9FWwvuK7UbrXmD3vD19R3dibHWTgH6r59uul994vjpdATvqHARCjT7KmXkHROMM/Q2nUGlunZhn89mFzNBhkrM3Uk3J6gIWIYVody+iR0hXB6mlU9zG82JNKWhpeR30ZJVpQRcoK4tDpGo9K/NiQH0p3mSoRDTKsn5iGe2x0M0s/Zc+FQtpG84ZRmEs5tIZSJ6+EBj+MoU8Kt1cbPRACPCWqvSlmjKQNgbJzN8PlrjeXtQ+PGWQLKFs+ZMuMPMhQEqiroIT929SBW+SiJv7nF4ORatP7mvWqLOspcyYl29q0konuTdu8/RTtCL5jvlsJH0epD3UWA0M5GFCH0gv8iqw9kgFjjB9zAgH3ErSr6rFDlVGwoLOxbqdtqYJfwg79DtrIvrXkDGSCbIHygbVJ7HWJNYLtOJlg=
  - secure: P33KwURuNprJRNEa9qOEGkffcZtPIlXYP2HHRx4gO82UfsQfbCZF4a+F0q8qvAsLNuMr2CHHXYdik7dwbiXrdaIv/si8/bqp0G/cgfAqnG7zt8wlSnWzEdIQzwQ7i4Ylzl6CzdrzXGe+T6iEx7mcHN1ViPEL9/UAves5St0Q07w+a6UCPEjezOrmp2j/LHcROhlwB5Pe3gAv0cUzw40zK/3KSqN3F7n7s4J7U2inKhSOsZmKgQgXQ5wGSWGfd+4Orlul94PTXQOT3/Kfihywkl9FsFH6GCo/YEUIQekhi+Nw7eQnUWPhFrTgJpz363tYceGV/3+Vvnk1zoihcSmTpLbaKVISNTGayWZzAuOGit4LD2vn+87qeKUHzDgJCyi11Z1cGwG7X6DhPxTyR+ZIvHHJeW7zcj9oEc5lmGr+I4HCuMAIMnahOLVy6P//7mdqozm4mPSL9BNX68PhNZeHyqSXSbBoXltVR0jh5m9nmDJ6l1iBl/Zkm+Ax3fGGs9JBGTfY7hFk3J0NrIcM2V257+RnQnYO6ST3XD4fALVw3kU0hjRaJXyk8X2uP/JXL5oZALLr8v9EyiS2FHpXPJOUnVKUdKkO30GZzxy6rZEjZ2p3UAshYJq1YVzZDFlgnsZDTyx9d4NuyeN9jFcMR/5iBrdfFycYviiZr2bMXf65qh4=
